<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizzeria Interspaziale Aromatica</title>
    <link rel="icon" type="image/svg+xml" href="img/pizzeria.svg">
    <link rel="stylesheet" href="css/style.css?v=9">
    <script src="js/secret-dialog.js?v=9" defer></script>
    <script src="js/dialog.js?v=9" defer></script>
    <script src="js/main.js?v=9" defer></script>
</head>
<body>
    <div class="container">
        <!-- Schermata iniziale -->
        <div id="welcome-screen" class="welcome-screen">
            <div class="welcome-message">
                <h1>Pronto per essere un Pizzaiolo provetto?</h1>
            </div>
            <div class="name-input-container">
                <input type="text" id="player-name" placeholder="Come ti chiami?" maxlength="20">
                <button id="start-game" class="start-button">Sono pronto</button>
            </div>
        </div>

        <header class="hidden">
            <h1>Pizzeria Interspaziale Aromatica</h1>
            <h2>Missione Spaziale</h2>
        </header>

        <!-- Menu principale -->
        <div id="main-menu" class="main-menu hidden">
    <div class="menu-buttons-container">
        <button id="btn-docs" class="menu-button menu-docs"><i class="btn-icon"></i>Manuale di Volo</button>
        <button id="btn-play" class="menu-button menu-play"><i class="btn-icon"></i>Inizia Missione</button>
        <button id="btn-credits" class="menu-button menu-credits"><i class="btn-icon"></i>Equipaggio</button>
    </div>

    <div class="difficulty-select">
        <div class="difficulty-buttons">
            <button id="difficulty-easy" class="difficulty-button" data-diff="easy">
                <img src="img/DifficultyEasy.png" alt="Facile">
            </button>
            <button id="difficulty-normal" class="difficulty-button selected" data-diff="normal">
                <img src="img/DifficultyMedium.png" alt="Normale">
            </button>
            <button id="difficulty-hard" class="difficulty-button" data-diff="hard">
                <img src="img/DifficultyHard.png" alt="Difficile">
            </button>
        </div>
    </div>

    
    
    <!-- Record modalit√† infinita -->
    <div class="high-score-container">
        <h3>Record Modalit√† Infinita</h3>
        <div class="high-score-info">
            <p>Punteggio pi√π alto: <span id="high-score">0</span></p>
            <p>Fase pi√π alta: <span id="highest-phase">0</span></p>
        </div>
    </div>
    
    <!-- Volume controls -->
    <div class="volume-controls">
        <div class="volume-control">
            <label for="music-volume">Musica</label>
            <input type="range" id="music-volume" min="0" max="1" step="0.01" value="0.7">
        </div>
        <div class="volume-control">
            <label for="sfx-volume">Effetti</label>
            <input type="range" id="sfx-volume" min="0" max="1" step="0.01" value="0.7">
        </div>
    </div>
</div>
        
        <!-- Selezione livelli -->
        <div id="level-select" class="game-section hidden">
            <div class="level-grid">
                <button id="level-1" class="level-button unlocked">Livello 1</button>
                <button id="level-2" class="level-button locked">Livello 2</button>
                <button id="level-3" class="level-button locked">Livello 3</button>
                <button id="level-4" class="level-button locked">Livello 4</button>
                <button id="level-5" class="level-button locked">Livello 5</button>
                <button id="level-6" class="level-button locked">Livello 6</button>
            </div>
            <div class="infinite-mode-option">
                <button id="infinite-mode" class="menu-button">Modalit√† Infinita</button>
            </div>
            <button id="back-from-levels" class="back-button">Torna al Menu</button>
        </div>

        <!-- Documentazione -->
        <div id="documentation" class="game-section hidden">
            <h3>Documentazione del Gioco</h3>
            <div class="docs-content">
                <h4>Come Giocare</h4>
                <p>Pilota la navicella delle scimmie aliene pizzaiole attraverso lo spazio!</p>
                <ul>
                    <li><strong>Livello 1:</strong> Evita i meteoriti per consegnare la prima pizza</li>
                    <li><strong>Livello 2:</strong> Ora puoi sparare! Distruggi i meteoriti e consegna la seconda pizza</li>
                    <li><strong>Livello 3:</strong> Affronta la sfida finale con meteoriti pi√π veloci e consegna l'ultima pizza</li>
                </ul>
                <h4>Controlli</h4>
                <ul>
                    <li>Frecce direzionali o WASD: Muovi la navicella</li>
                    <li>P: Spara (dal livello 2)</li>
                    <li>O: Onda d'urto (dal livello 3)</li>
                    <li>Barra spaziatrice: Scatto (solo in modalit√† infinita)</li>
                    <li>ESC: Pausa</li>
                </ul>
                <button id="back-from-docs" class="back-button">Torna al Menu</button>
            </div>
        </div>

        <!-- Area di gioco -->
        <div id="game-area" class="game-section hidden">
<div class="game-container">
                <canvas id="game-canvas" width="800" height="600"></canvas>
                <!-- Controlli touch per dispositivi mobili -->
                <div id="touch-controls" class="touch-controls" aria-hidden="false">
                    <div class="touch-movement">
                        <div id="joystick" class="joystick" aria-hidden="false">
                            <div id="joystick-base" class="joy-base">
                                <div id="joystick-knob" class="joy-knob"></div>
                            </div>
                        </div>
                    </div>
                    <div class="touch-actions">
                        <button id="touch-fire" class="touch-btn touch-action" aria-label="Spara">S</button>
                        <button id="touch-aoe" class="touch-btn touch-action" aria-label="Colpo ad area">AOE</button>
                        <button id="touch-boost" class="touch-btn touch-action" aria-label="Scatto">‚á™</button>
                    </div>
                </div>
                <div id="dialog-box" class="dialog-hidden">
                    <div class="dialog-content">
                        <p id="dialog-text"></p>
                    </div>
                </div>
                <div id="temp-shield-indicator" class="shield-indicator temp-shield" title="Scudo temporaneo attivo"></div>
                <div id="shield-container" class="shield-container">
                    <div id="shield-indicator-1" class="shield-indicator" title="Scudo permanente 1"></div>
                    <div id="shield-indicator-2" class="shield-indicator" title="Scudo permanente 2"></div>
                    <div id="shield-indicator-3" class="shield-indicator" title="Scudo permanente 3"></div>
                    <div id="shield-indicator-4" class="shield-indicator" title="Scudo permanente 4"></div>
                    <div id="shield-indicator-5" class="shield-indicator" title="Scudo permanente 5"></div>
                    <div id="shield-indicator-6" class="shield-indicator" title="Scudo permanente 6"></div>
                    <div id="shield-indicator-7" class="shield-indicator" title="Scudo permanente 7"></div>
                    <div id="shield-indicator-8" class="shield-indicator" title="Scudo permanente 8"></div>
                    <div id="shield-indicator-9" class="shield-indicator" title="Scudo permanente 9"></div>
                    <div id="shield-indicator-10" class="shield-indicator" title="Scudo permanente 10"></div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                    <div id="progress-text">0%</div>
                </div>
<div class="level-info">
                    <span>Livello: <span id="current-level">1</span></span>
                    <span id="phase-wrapper" style="display:none;">Fase: <span id="phase">1</span></span>
                    <span>Pizza: <span id="current-pizza">Margherita</span></span>
                    <span>Punteggio: <span id="score">0</span></span>
                    <span id="high-score-wrapper" style="display:none;">Record: <span id="game-high-score">0</span></span>
                    <span id="highest-phase-wrapper" style="display:none;">Fase record: <span id="game-highest-phase">0</span></span>
                    <div class="bullets-counter">Proiettili: <span id="bullets-count">20</span> <span class="bullet-icon">üîπ</span></div>
                    <div class="pause-instruction">Pausa con ESC</div>
                </div>
            </div>
        </div>

        <!-- Crediti -->
        <div id="credits" class="game-section hidden">
            <h3>Crediti</h3>
            <div class="credits-content">
                <p>Alien Pizza Monkey Shooter</p>
                <p>Sviluppato per il progetto scolastico 4IA</p>
                <p>Pizzeria Aromatica - Le migliori pizze della galassia!</p>
                <div class="monkey-avatar"></div>
                <button id="back-from-credits" class="back-button">Torna al Menu</button>
            </div>
        </div>
        
        <!-- Dialogo Segreto -->
        <div class="secret-dialog" style="display: none;">
            <div class="dialog-box">
                <div class="dialog-text-container">
                    <div class="dialog-text"></div>
                </div>
                <div class="dialog-continue-hint">Premi Spazio o Invio per continuare...</div>
            </div>
        </div>
        
        <!-- Overlay per oscuramento -->
        <div class="dark-overlay" style="display: none;"></div>

        <!-- Game Over -->
        <div id="game-over" class="game-section hidden">
            <h3>Sconfitta</h3>
            <p>Stiamo venendo a prenderti, andr√† meglio la prossima volta</p>
            <p>Punteggio finale: <span id="final-score">0</span></p>
            <p><span id="final-level-label">Livello raggiunto:</span> <span id="final-level">1</span></p>
            <button id="restart-btn" class="menu-button">Rigioca</button>
            <button id="back-from-gameover" class="back-button">Torna al Menu</button>
        </div>
        
        <!-- Livello Completato -->
        <div id="level-complete" class="game-section hidden">
            <h3>Livello Completato</h3>
            <p class="level-complete-message">Hai completato il livello <span id="completed-level">1</span>!</p>
            <div class="level-complete-buttons">
                <button id="next-level-btn" class="menu-button">Livello Successivo</button>
                <button id="back-to-levels-btn" class="back-button">Torna alla Selezione</button>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>
</html>
